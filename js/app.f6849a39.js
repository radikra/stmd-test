(function(t){function e(e){for(var r,o,c=e[0],i=e[1],u=e[2],p=0,f=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/stmd-test/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02be":function(t,e,n){},"40e8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABkUlEQVQ4T43TPShGURzHcY+nyOAZpCThIYNReRssSkoGFkkMYrF5SRSLRVHCY2BUBgYvAwmj1VvYniSFTaSIUt6+v9v/3C7hcerT/5x77vnfe/7n3lDS3y3Vpl9+uy30w0Qx1xaxinebTyY2oQ3x4JrvCbRoH/WIosBu1rUnbKHCknlTwQRarNaPS5ygxK5pTm+Qj0m7prGfQK/diDWc2w1TxEHrdxFnrV9GrME64u4Njhg8IIYR1NnTc4mqwymesQ1tbw4RlLoEQwxUuCt7isajuLFxFrEDCzbOI6qgY0qgo+rFMc5sURrxFju2QG+Ug1dou5XQycRcgh4GE0hBOfqwgnZLoCfXYhyuRgP0Z4JbWOKCqq92jXtkI4wLFCLD5nUarfC2oKYiPqIaOr4q6NzvbD7TEunpUewiHX4Rta8GqMI6ojd0Qh+OWjeGrX9IXMYG/GPUnD4WFUYF1WnsQcVS0yKdv6o/jQ98+ZDsPi/JAZrRAlewIvqbmIeK7C1WS/QzaStqKuS/fiaX2MWEv/MnCC5UH8S9RlEAAAAASUVORK5CYII="},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("table",{staticClass:"table table-borderless table-hover my-5 racers"},[r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{staticClass:"head-info"},[t._v("Место")]),r("th",{staticClass:"head-info"},[t._v("Имя")]),r("th",{staticClass:"head-info"},[t._v("Город")]),r("th",{staticClass:"head-info"},[t._v("Авто")]),t._l(this.attemptsQuantity,(function(e,a){return r("th",{key:a,staticClass:"sortable head-info",class:{"text-success":t.attemptsQuantity[a]},on:{click:function(e){return t.sortByQual(a)}}},[t.attemptsQuantity[a]?r("img",{attrs:{src:n("40e8")}}):r("span",[t._v("Q"+t._s(a+1))])])})),r("th",{staticClass:"sortable head-info",on:{click:t.sortByTotal}},[t._v("Total")])],2)]),r("tbody",t._l(t.racers,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(n+1))]),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.city))]),r("td",[t._v(t._s(e.car))]),t._l(e.attempts,(function(e,n){return r("td",{key:n,class:{"text-success bg-dark":t.attemptsQuantity[n]}},[t._v(" "+t._s(e)+" ")])})),r("td",[t._v(t._s(e.points))])],2)})),0)])])])])},s=[],o=(n("cb29"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("4fad"),n("07ac"),n("159b"),n("5530")),c=n("bc3a"),i=n.n(c),u={name:"App",data:function(){return{racers:[],attempts:[],attemptsQuantity:[]}},computed:{},methods:{sortByQual:function(t){this.attemptsQuantity.fill(!1),this.racers.sort((function(e,n){return n.attempts[t]-e.attempts[t]})),this.attemptsQuantity[t]=!0},sortByTotal:function(){this.racers.sort((function(t,e){return e.points-t.points})),this.attemptsQuantity.fill(!1)}},mounted:function(){var t=this;i.a.get("http://localhost:3000/attempts").then((function(e){t.attempts=Object.values(e.data.data)})).catch((function(t){console.error(t.message)})),i.a.get("http://localhost:3000/cars").then((function(e){t.racers=Object.entries(e.data.data).map((function(e){return Object(o["a"])(Object(o["a"])({number:e[0]},e[1]),{},{attempts:t.attempts.filter((function(t){return t.id===e[1].id}))})})),t.racers.forEach((function(e){var n=[];e.attempts.map((function(t){return n.push(t.result)})),e.attempts=n,t.attemptsQuantity.length=n.length,e.points=e.attempts.reduce((function(t,e){return t+e}),0)})),t.attemptsQuantity.fill(!1),t.racers.sort((function(t,e){return e.points-t.points}))})).catch((function(t){console.error(t.message)}))}},l=u,p=(n("5c0b"),n("2877")),f=Object(p["a"])(l,a,s,!1,null,null,null),d=f.exports;n("02be");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.f6849a39.js.map